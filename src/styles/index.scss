:root {
    color-scheme: light dark;
    --content-width: min(1040px, 100vw);
}

:root,
body {
    overflow-x: clip !important;
}

main {
    counter-reset: headings2;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        text-wrap: balance;
    }

    h1 {
        font-size: 3rem;
        line-height: 2.2rem;
        font-weight: 800;
        margin: {
            top: 2rem;
            bottom: 1rem;
        }
    }

    h2 {
        font-size: 2.5rem;
        color: rgb(var(--ctp-lavender));
        line-height: 2rem;
        font-weight: 800;
        padding: {
            top: 1rem;
            bottom: 1rem;
        }
        height: 6rem;
        margin-top: 4rem;
        border: {
            bottom: 1px solid currentColor;
        }
        background-color: rgb(var(--ctp-base));
        display: flex;
        gap: 0.5rem;
        flex-wrap: nowrap;
        flex-direction: row;
        align-content: flex-end;
        justify-content: flex-start;
        align-items: flex-end;
        position: sticky;
        top: 0;
        z-index: 10;
        counter-reset: headings3;

        &::before {
            content: counter(headings2) ". ";
            counter-increment: headings2;
        }
    }

    h3 {
        font-size: 2rem;
        color: rgb(var(--ctp-lavender));
        line-height: 1.5rem;
        font-weight: 700;
        margin: {
            top: 4rem;
            bottom: 1rem;
        }
        counter-reset: headings4;
        &::before {
            content: counter(headings2) "." counter(headings3) ". ";
            counter-increment: headings3;
        }
    }

    h4 {
        font-size: 1.5rem;
        color: rgb(var(--ctp-lavender));
        line-height: 1.25rem;
        font-weight: 700;
        margin: {
            top: 4rem;
            bottom: 1rem;
        }
        &::before {
            content: counter(headings2) "." counter(headings3) "." counter(headings4) ". ";
            counter-increment: headings4;
        }
    }

    p {
        text-wrap: pretty;
        line-height: 1.75;
        margin: {
            top: 1rem;
            bottom: 1rem;
        }
    }

    code:not(pre > code) {
        font-family: "JetBrains Mono", "Fira Code", monospace;
        font-size: 0.9em;
        background-color: #11111b;
        color: #cdd6f4;
        padding: 0.2rem 0.4rem;
        border-radius: 5px;
    }

    table.border.border-ctp-overlay0 {
        th,
        td {
            border-width: 1px;
            --tw-border-opacity: 1;
            border-color: rgba(var(--ctp-overlay0), var(--tw-border-opacity));
        }
    }

    ul {
        list-style-type: disc;
    }
    ol {
        list-style-type: decimal;
    }
    ul,
    ol {
        margin: {
            top: 1rem;
            bottom: 1rem;
        }
        padding: {
            left: 1.5rem;
        }
        > li::marker {
            color: rgb(var(--ctp-subtext1));
        }
    }

    .memory {
        display: block;
        position: relative;
        width: calc(var(--content-width) / 20);
        height: calc(var(--content-width) / 20);
        background-color: rgb(var(--ctp-subtext1));
    }

    code {
        font-variant-ligatures: none;
    }

    svg {
        rect {
            stroke: rgb(var(--ctp-base)) !important;
        }
        foreignObject div {
            color: rgb(var(--ctp-crust)) !important;
        }
    }
}
